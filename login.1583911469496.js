(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"02f4":function(e,t,r){var n=r("4588"),o=r("be13");e.exports=function(e){return function(t,r){var i,a,s=String(o(t)),c=n(r),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c),i<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536)}}},"0390":function(e,t,r){"use strict";var n=r("02f4")(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"0bfb":function(e,t,r){"use strict";var n=r("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},1954:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login_index"},[n("el-header",{attrs:{height:"30px"}}),n("div",{staticClass:"page_index"},[n("div",{staticClass:"login"},[n("div",{staticClass:"word"}),n("div",{staticClass:"card_cont"},[n("el-card",{staticClass:"box-card"},[n("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[n("el-form-item",{attrs:{prop:"inputName"}},[n("el-input",{attrs:{placeholder:"用户名"},model:{value:e.ruleForm.inputName,callback:function(t){e.$set(e.ruleForm,"inputName","string"===typeof t?t.trim():t)},expression:"ruleForm.inputName"}})],1),n("el-form-item",{attrs:{prop:"inputPword"}},[n("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.ruleForm.inputPword,callback:function(t){e.$set(e.ruleForm,"inputPword","string"===typeof t?t.trim():t)},expression:"ruleForm.inputPword"}})],1),n("el-form-item",{staticClass:"captcha_cont",attrs:{prop:"inputCaptcha"}},[n("el-input",{attrs:{placeholder:"验证码"},model:{value:e.ruleForm.inputCaptcha,callback:function(t){e.$set(e.ruleForm,"inputCaptcha",t)},expression:"ruleForm.inputCaptcha"}}),n("div",{staticClass:"captcha"},[n("span",[n("img",{ref:"reshImg",staticClass:"security_img",attrs:{src:e.imgCont,alt:""}})]),n("span",[n("img",{staticClass:"refresh",attrs:{src:r("f89e"),alt:""},on:{click:function(t){return e.reshFn(e.randomNum)}}})])])],1),n("el-form-item",[n("div",{staticClass:"rememb"},[n("p",[n("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1),n("p",[e._v("记住密码")])]),n("button",{staticClass:"log_btn",on:{click:function(t){return t.preventDefault(),e.submitForm("ruleForm")}}},[e._v("登 录"),n("span",[n("img",{attrs:{src:r("f374"),alt:"",width:"10px"}})])])])],1)],1)],1)])])],1)},o=[],i=(r("28a5"),{name:"Login",props:{msg:String},data:function(){var e=this,t=Math.floor(900*Math.random())+1e5,r="",n="",o="",i=function(t,n,o){if(!n)return o(new Error("用户名不能为空"));2===e.offName?""!==r&&r===n?o(new Error(e.tpName)):r=n:(""!==n&&" "!==e.tpName&&(o(new Error(e.tpName)),r=n),e.offName=2),o()},a=function(t,r,o){""===r?o(new Error("密码不能为空")):(2===e.offPass?""!==n&&n===r?o(new Error(e.tpPword)):n=r:(""!==r&&" "!==e.tpPword&&(o(new Error(e.tpPword)),n=r),e.offPass=2),o())},s=function(t,r,n){""===r?n(new Error("请输入验证码")):(2===e.offCath?""!==o&&o===r?n(new Error(e.tpCaptcha)):o=r:(""!==r&&" "!==e.tpCaptcha&&(n(new Error(e.tpCaptcha)),o=r),e.offCath=2),n())};return{ruleForm:{inputName:"",inputPword:"",inputCaptcha:"",offCode:""},rules:{inputName:[{validator:i,trigger:"blur"}],inputPword:[{validator:a,trigger:"blur"}],inputCaptcha:[{validator:s,trigger:"blur"}]},tpName:" ",tpPword:" ",tpCaptcha:" ",cathCont:"",offName:2,offPass:2,offCath:2,checked:!0,randomNum:t,imgCont:this.$http.deft()+"/valicode/".concat(this.randomNum),ttes:""}},activated:function(){this.getCookie(),this.reshFn(this.randomNum)},methods:{reshFn:function(e){this.$refs.reshImg.src="",setTimeout(this.imgFn(this.$refs.reshImg.src=this.$http.deft()+"/valicode/".concat(e)),500)},imgFn:function(){},submitForm:function(e){var t=this;this.offName=5,this.offPass=5,this.offCath=5,this.$http.fpost("/login",{username:this.ruleForm.inputName,password:this.ruleForm.inputPword,code:this.ruleForm.inputCaptcha},{sessionId:this.randomNum,"Content-Type":"application/x-www-form-urlencoded"}).then(function(r){t.tpName=" ",t.tpPword=" ",t.tpCaptcha=" ";var n=r.data.data;switch(t.ttes=n,r.data.detailCode){case"1000":t.tpCaptcha="验证码失效",t.$refs[e].validate(function(e){return!!e});break;case"1001":t.tpCaptcha="验证码输入错误",t.$refs[e].validate(function(e){return!!e});break;case"1005":t.$message({message:"token失效,重新登录",type:"warning"});break;case"1004":t.tpName="用户名不存在",t.$refs[e].validate(function(e){return!!e});break;case"1003":t.tpPword="密码错误",t.$refs[e].validate(function(e){return!!e});break;default:1==t.checked?t.setCookie(t.ruleForm.inputName,t.ruleForm.inputPword,7):t.clearCookie(),window.localStorage.setItem("token",n),window.localStorage.setItem("userName",t.ruleForm.inputName),t.$router.push("/recipeList?v=1")}})},checkName:function(e){e(new Error(this.tpName))},setCookie:function(e,t,r){var n=new Date;n.setTime(n.getTime()+864e5*r),window.document.cookie="userName="+e+";path=/;expires="+n.toGMTString(),window.document.cookie="userPwd="+t+";path=/;expires="+n.toGMTString()},getCookie:function(){if(document.cookie.length>0)for(var e=document.cookie.split("; "),t=0;t<e.length;t++){var r=e[t].split("=");"userName"==r[0]?this.ruleForm.inputName=r[1]:"userPwd"==r[0]&&(this.ruleForm.inputPword=r[1])}},clearCookie:function(){this.setCookie("","",-1)},loadClose:function(e,t){"9999"!==e&&"8000"!==e||t.close(),setTimeout(function(){t.close()},36e4)}},destroyed:function(){this.$off(this.submitForm),this.$off(this.getCookie),this.$off(this.clearCookie),this.$off(this.setCookie)}}),a=i,s=(r("9ce0"),r("2877")),c=Object(s["a"])(a,n,o,!1,null,null,null);t["default"]=c.exports},"214f":function(e,t,r){"use strict";r("b0c5");var n=r("2aba"),o=r("32e9"),i=r("79e5"),a=r("be13"),s=r("2b4c"),c=r("520a"),u=s("species"),l=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),p=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var f=s(e),m=!i(function(){var t={};return t[f]=function(){return 7},7!=""[e](t)}),d=m?!i(function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[u]=function(){return r}),r[f](""),!t}):void 0;if(!m||!d||"replace"===e&&!l||"split"===e&&!p){var h=/./[f],g=r(a,f,""[e],function(e,t,r,n,o){return t.exec===c?m&&!o?{done:!0,value:h.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),v=g[0],b=g[1];n(String.prototype,e,v),o(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},"28a5":function(e,t,r){"use strict";var n=r("aae3"),o=r("cb7c"),i=r("ebd6"),a=r("0390"),s=r("9def"),c=r("5f1b"),u=r("520a"),l=r("79e5"),p=Math.min,f=[].push,m="split",d="length",h="lastIndex",g=4294967295,v=!l(function(){RegExp(g,"y")});r("214f")("split",2,function(e,t,r,l){var b;return b="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[d]||2!="ab"[m](/(?:ab)*/)[d]||4!="."[m](/(.?)(.?)/)[d]||"."[m](/()()/)[d]>1||""[m](/.?/)[d]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(o,e,t);var i,a,s,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=void 0===t?g:t>>>0,v=new RegExp(e.source,l+"g");while(i=u.call(v,o)){if(a=v[h],a>p&&(c.push(o.slice(p,i.index)),i[d]>1&&i.index<o[d]&&f.apply(c,i.slice(1)),s=i[0][d],p=a,c[d]>=m))break;v[h]===i.index&&v[h]++}return p===o[d]?!s&&v.test("")||c.push(""):c.push(o.slice(p)),c[d]>m?c.slice(0,m):c}:"0"[m](void 0,0)[d]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var o=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,o,n):b.call(String(o),r,n)},function(e,t){var n=l(b,e,this,t,b!==r);if(n.done)return n.value;var u=o(e),f=String(this),m=i(u,RegExp),d=u.unicode,h=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(v?"y":"g"),w=new m(v?u:"^(?:"+u.source+")",h),A=void 0===t?g:t>>>0;if(0===A)return[];if(0===f.length)return null===c(w,f)?[f]:[];var C=0,x=0,F=[];while(x<f.length){w.lastIndex=v?x:0;var k,E=c(w,v?f:f.slice(x));if(null===E||(k=p(s(w.lastIndex+(v?0:x)),f.length))===C)x=a(f,x,d);else{if(F.push(f.slice(C,x)),F.length===A)return F;for(var y=1;y<=E.length-1;y++)if(F.push(E[y]),F.length===A)return F;x=C=k}}return F.push(f.slice(C)),F}]})},"520a":function(e,t,r){"use strict";var n=r("0bfb"),o=RegExp.prototype.exec,i=String.prototype.replace,a=o,s="lastIndex",c=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e[s]||0!==t[s]}(),u=void 0!==/()??/.exec("")[1],l=c||u;l&&(a=function(e){var t,r,a,l,p=this;return u&&(r=new RegExp("^"+p.source+"$(?!\\s)",n.call(p))),c&&(t=p[s]),a=o.call(p,e),c&&a&&(p[s]=p.global?a.index+a[0].length:t),u&&a&&a.length>1&&i.call(a[0],r,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)}),a}),e.exports=a},"5f1b":function(e,t,r){"use strict";var n=r("23c6"),o=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var i=r.call(e,t);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},9662:function(e,t,r){"use strict";var n=r("e35d"),o=r.n(n);o.a},9848:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"login"}},[r("el-form",{ref:"ruleForm",staticClass:"login_form",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"name"}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{type:"password",label:"密码",prop:"password"}},[r("el-input",{model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{label:"图形验证码"}},[r("el-input",{model:{value:e.ruleForm.securityImg,callback:function(t){e.$set(e.ruleForm,"securityImg",t)},expression:"ruleForm.securityImg"}})],1),r("div",[r("p",[e._v(e._s(e.second)+"s")]),r("p",{ref:"secuId",on:{click:e.securityCode}},[e._v("发送验证码")])]),r("el-form-item",{attrs:{label:"短信验证码"}},[r("el-input",{model:{value:e.ruleForm.securityInfo,callback:function(t){e.$set(e.ruleForm,"securityInfo",t)},expression:"ruleForm.securityInfo"}})],1),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")])],1)],1)},o=[],i={name:"login",data:function(){var e=function(e,t,r){r(new Error("拉了")),console.log(e),console.log(t)};return{second:60,secur:!0,ruleForm:{name:"",password:"",securityImg:"",securityInfo:""},rules:{name:[{required:!0,message:"您输入的用户名有误，请重新输入",trigger:"blur"},{validator:e,trigger:""}],password:[{required:!0,message:"您输入的密码有误，请重新输入",trigger:"blur"}]}}},methods:{submitForm:function(e){this.$refs[e].validate(function(e){return e?(alert("submit!"),!0):(console.log("error submit!!"),!1)})},securityCode:function(){this.$refs.secuId.style="color:#eee;";var e=this;if(e.secur){e.secur=!1;var t=setInterval(function(){e.second--,0===e.second&&(clearInterval(t),e.secur=!0,e.second=60)},1e3)}}}},a=i,s=(r("9662"),r("2877")),c=Object(s["a"])(a,n,o,!1,null,"b3bb8eb0",null);t["default"]=c.exports},"9ce0":function(e,t,r){"use strict";var n=r("b377"),o=r.n(n);o.a},aae3:function(e,t,r){var n=r("d3f4"),o=r("2d95"),i=r("2b4c")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},b0c5:function(e,t,r){"use strict";var n=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},b377:function(e,t,r){},e35d:function(e,t,r){},f374:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAAwklEQVQ4T63UMQ4BQRTG8f9H5wI6nRNoHEEidAon0DiCQsIRNE6gJxKJC2icQKfTi/aTlSnEsjtr97Vv5jeZ9+aNyAjbdWAL1ICRpPuv5cqCkpztBTADzkBf0u3bnlwoYBNgBVyBnqTLJxYFBWwIbIAHMJB0eseioYB1gR3QAMaSkvq9ohAUsDZwAFrAVNL6LyhgTWAPdIAlMJdt53UuIn+sDoo4LbXEdvpqRSHb5Yttu3z7bZd/kLbLj0glQ1vkG3kC6rdVf1p3fC4AAAAASUVORK5CYII="},f89e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAACQUlEQVQ4T62VTUhUYRSGn3ObSZSkFLI7F4NECANpIUKtWkjgJqypEIs2LSIKXFRgQep80w+lUO0KF25Moh+wn1XLcBOERIULE4R+5N5LkimJZo73xMw4lek4yvTu3+ecwznf+wmrVcwbIZg/yOXytytZZLU8Yq6ifMUK7cWUvcnmyw5s9SsI00AQ1II6IHULkHHChTW0lnxcDroUaMa2o3PXEKIogjCPMgbYC4ABisJ1nN/8PTfQ+E1o0I1SgCV3EenF3tLPSZlLjQyvkNl6TMVE7pHj3nFUu4FhsA5j7MFFJuP2MDPTTEflZO6ltPm7sOb7Ees9/NizUge5liiggvFfEmg1llRjIh9ymVbusN2tR3gOXCHutOUDS3qFmNuFcAJlG3HnU/5A4w2iuo64syNfWKbDb6lziDv1/wnoTSH6AuPsywtovB7Q3YJxh4EpjFOTH9B9DWxIAh+iRJktKuP6puT4a9eFiRIKpr+A9Alx/whBcA+V01yK3Fk7DWj3TiF6G8s6KjRrAaXeEMh6Ziar6Kxa9tFnLdQyVEzhxiHQn4xHqtJpY0YbUesByDPEjmIkWFWnRi3UfwzagCWNxCKP/sSXcW+inElBi0LHssXT70IdY8VMJ3pTMOEWxjmbvsOMktXwO1E9B+IiXIXEfczW8cWp87kUQk0oF1PBK3ID7JbMVEsDtt09hCUdqFYCCeAdyGgaquXATiCEyAhoC8bp+7vg8l9Al4bx/QOo7gdqQZwFoAsMIPIU236SCt5/9AtsA83b9INLcwAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=login.1583911469496.js.map